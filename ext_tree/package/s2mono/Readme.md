Plugin made from template 
https://www.alsa-project.org/alsa-doc/alsa-lib/pcm_external_plugins.html

A lot of "extra" words there, main points:
  s2m_transfer receives input and output buffer addresses and here we transform data;
  at the very end, supported input and output formats are specified.
