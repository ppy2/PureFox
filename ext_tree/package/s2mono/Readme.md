Плагин сделан из шаблона 
https://www.alsa-project.org/alsa-doc/alsa-lib/pcm_external_plugins.html

Много "лишних" слов там, основное:
  s2m_transfer получает адреса входного и выходного буфера и тут мы трансформируем данные;
  в самом конце указаны поддерживаемые входной и выходной форматы.
